(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5719:function(e,r,t){Promise.resolve().then(t.bind(t,8991))},9376:function(e,r,t){"use strict";var n=t(5475);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}})},8991:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var n=t(7437),a=t(2265),s=t(9376),i=t(6334),c=t(2827);function u(){let e=(0,s.useRouter)(),[r,t]=(0,a.useState)({email:"",password:""}),[u,o]=(0,a.useState)({}),[l,d]=(0,a.useState)(!1),m=async t=>{t.preventDefault(),d(!0),o({});try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),n=await t.json();t.ok?e.push("/dashboard"):o({general:n.error||"Erro ao fazer login"})}catch(e){o({general:"Erro de conex\xe3o"})}finally{d(!1)}},f=e=>{t(r=>({...r,[e.target.name]:e.target.value}))};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sistema de Auto Pe\xe7as"}),(0,n.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Fa\xe7a login para acessar o sistema"})]}),(0,n.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:m,children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(c.I,{label:"Email",type:"email",name:"email",value:r.email,onChange:f,required:!0,error:u.email}),(0,n.jsx)(c.I,{label:"Senha",type:"password",name:"password",value:r.password,onChange:f,required:!0,error:u.password})]}),u.general&&(0,n.jsx)("div",{className:"text-red-600 text-sm text-center",children:u.general}),(0,n.jsx)(i.z,{type:"submit",className:"w-full",loading:l,children:"Entrar"}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["N\xe3o tem uma conta?"," ",(0,n.jsx)("button",{type:"button",onClick:()=>e.push("/register"),className:"font-medium text-primary-600 hover:text-primary-500",children:"Cadastre-se"})]})})]})]})})}},6334:function(e,r,t){"use strict";t.d(r,{z:function(){return s}});var n=t(7437);t(2265);var a=t(3448);let s=e=>{let{children:r,className:t,variant:s="primary",size:i="md",loading:c=!1,disabled:u,...o}=e;return(0,n.jsxs)("button",{className:(0,a.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",{primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700 focus:ring-primary-500"}[s],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[i],(u||c)&&"opacity-50 cursor-not-allowed",t),disabled:u||c,...o,children:[c&&(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})}},2827:function(e,r,t){"use strict";t.d(r,{I:function(){return s}});var n=t(7437);t(2265);var a=t(3448);let s=e=>{let{label:r,error:t,helperText:s,className:i,id:c,...u}=e,o=c||(null==r?void 0:r.toLowerCase().replace(/\s+/g,"-"));return(0,n.jsxs)("div",{className:"space-y-1",children:[r&&(0,n.jsx)("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:r}),(0,n.jsx)("input",{id:o,className:(0,a.cn)("input-field",t&&"border-red-300 focus:ring-red-500",i),...u}),t&&(0,n.jsx)("p",{className:"text-sm text-red-600",children:t}),s&&!t&&(0,n.jsx)("p",{className:"text-sm text-gray-500",children:s})]})}},3448:function(e,r,t){"use strict";t.d(r,{CN:function(){return o},R4:function(){return u},cn:function(){return a},li:function(){return d},o0:function(){return c},p6:function(){return i},vw:function(){return m},xG:function(){return s},z2:function(){return l}});var n=t(1994);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.W)(r)}function s(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function i(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}function c(e){return new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function u(e){return(e=e.replace(/[^\d]/g,"")).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")}function o(e){return 11===(e=e.replace(/[^\d]/g,"")).length?e.replace(/^(\d{2})(\d{5})(\d{4})$/,"($1) $2-$3"):10===e.length?e.replace(/^(\d{2})(\d{4})(\d{4})$/,"($1) $2-$3"):e}function l(e){switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"CONFIRMED":return"bg-blue-100 text-blue-800";case"DELIVERED":return"bg-green-100 text-green-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function d(e){switch(e){case"PENDING":return"Pendente";case"CONFIRMED":return"Confirmado";case"DELIVERED":return"Entregue";case"CANCELLED":return"Cancelado";default:return e}}function m(e){switch(e){case"CASH":return"Dinheiro";case"CREDIT_CARD":return"Cart\xe3o de Cr\xe9dito";case"DEBIT_CARD":return"Cart\xe3o de D\xe9bito";case"PIX":return"PIX";case"BANK_TRANSFER":return"Transfer\xeancia";case"CHECK":return"Cheque";default:return e}}},1994:function(e,r,t){"use strict";function n(){for(var e,r,t=0,n="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,n,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(n=e(r[t]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n)}return a}(e))&&(n&&(n+=" "),n+=r);return n}t.d(r,{W:function(){return n}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=5719)}),_N_E=e.O()}]);
(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9059:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c}),s(8256),s(2029),s(5866);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8256)),"D:\\sistema-auto-pecas\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"D:\\sistema-auto-pecas\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\sistema-auto-pecas\\src\\app\\dashboard\\page.tsx"],m="/dashboard/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3215:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},77:()=>{},9762:(e,t,s)=>{Promise.resolve().then(s.bind(s,2768))},2768:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(326),r=s(7577),n=s(226),l=s(1223),i=s(8705),d=s(7671),c=s(6557);let o=(0,c.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),m=(0,c.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function x(){let[e,t]=(0,r.useState)(null),[s,c]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0);if(x)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});let u=[{name:"Total de Pe\xe7as",value:e?.totalParts||0,icon:i.Z,color:"bg-blue-500"},{name:"Total de Vendas",value:e?.totalSales||0,icon:d.Z,color:"bg-green-500"},{name:"Receita Total",value:(0,l.xG)(e?.totalRevenue||0),icon:o,color:"bg-yellow-500"},{name:"Estoque Baixo",value:e?.lowStockParts||0,icon:m,color:"bg-red-500"}];return a.jsx(n.A,{user:s,children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Vis\xe3o geral do sistema"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(e=>a.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`${e.color} p-3 rounded-lg`,children:a.jsx(e.icon,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.name}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]})},e.name))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Vendas Recentes"})}),a.jsx("div",{className:"p-6",children:e?.recentSales&&e.recentSales.length>0?a.jsx("div",{className:"space-y-4",children:e.recentSales.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.customerName||"Cliente n\xe3o informado"}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,l.p6)(e.createdAt)})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-gray-900",children:(0,l.xG)(Number(e.total))}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.items?.length||0," itens"]})]})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma venda encontrada"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pe\xe7as Mais Vendidas"})}),a.jsx("div",{className:"p-6",children:e?.topSellingParts&&e.topSellingParts.length>0?a.jsx("div",{className:"space-y-4",children:e.topSellingParts.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.part?.name||"Pe\xe7a n\xe3o encontrada"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.part?.code})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-gray-900",children:[e.totalSold," vendidas"]}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,l.xG)(Number(e.revenue))})]})]},e.part?.id||t))}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma venda encontrada"})})]})]})]})})}},226:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var a=s(326),r=s(7577),n=s(434),l=s(5047),i=s(1223),d=s(5920),c=s(8705),o=s(7671),m=s(4061),x=s(4228),h=s(6464),u=s(8378),g=s(1810);let p=[{name:"Dashboard",href:"/dashboard",icon:d.Z},{name:"Pe\xe7as",href:"/parts",icon:c.Z},{name:"Vendas",href:"/sales",icon:o.Z},{name:"Categorias",href:"/categories",icon:m.Z},{name:"Fornecedores",href:"/suppliers",icon:x.Z},{name:"Relat\xf3rios",href:"/reports",icon:h.Z},{name:"Configura\xe7\xf5es",href:"/settings",icon:u.Z}],f=({isOpen:e,onClose:t})=>{let s=(0,l.usePathname)(),r=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),window.location.href="/login"}catch(e){console.error("Logout error:",e)}};return(0,a.jsxs)(a.Fragment,{children:[e&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:t}),a.jsx("div",{className:(0,i.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",e?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"flex items-center justify-center h-16 px-4 bg-primary-600",children:a.jsx("h1",{className:"text-xl font-bold text-white",children:"AutoPe\xe7as"})}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:p.map(e=>{let r=s===e.href;return(0,a.jsxs)(n.default,{href:e.href,className:(0,i.cn)("flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",r?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),onClick:t,children:[a.jsx(e.icon,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),a.jsx("div",{className:"p-4 border-t",children:(0,a.jsxs)("button",{onClick:r,className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-colors",children:[a.jsx(g.Z,{className:"w-5 h-5 mr-3"}),"Sair"]})})]})})]})};var j=s(748),N=s(6507),b=s(9635);let y=({onMenuClick:e,user:t})=>a.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 lg:hidden",children:a.jsx(j.Z,{size:20})}),a.jsx("h2",{className:"ml-4 text-lg font-semibold text-gray-900 lg:ml-0",children:"Sistema de Auto Pe\xe7as"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 relative",children:[a.jsx(N.Z,{size:20}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"hidden sm:block text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.name}),a.jsx("p",{className:"text-xs text-gray-500",children:t?.email})]}),a.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:a.jsx(b.Z,{size:16,className:"text-white"})})]})]})]})}),v=({children:e,user:t})=>{let[s,n]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(f,{isOpen:s,onClose:()=>n(!1)}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(y,{onMenuClick:()=>n(!0),user:t}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e})]})]})}},1223:(e,t,s)=>{"use strict";s.d(t,{CN:()=>c,R4:()=>d,cn:()=>r,li:()=>m,o0:()=>i,p6:()=>l,vw:()=>x,xG:()=>n,z2:()=>o});var a=s(1135);function r(...e){return(0,a.W)(e)}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}function l(e){return new Intl.DateTimeFormat("pt-BR").format(new Date(e))}function i(e){return new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function d(e){return(e=e.replace(/[^\d]/g,"")).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")}function c(e){return 11===(e=e.replace(/[^\d]/g,"")).length?e.replace(/^(\d{2})(\d{5})(\d{4})$/,"($1) $2-$3"):10===e.length?e.replace(/^(\d{2})(\d{4})(\d{4})$/,"($1) $2-$3"):e}function o(e){switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"CONFIRMED":return"bg-blue-100 text-blue-800";case"DELIVERED":return"bg-green-100 text-green-800";case"CANCELLED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function m(e){switch(e){case"PENDING":return"Pendente";case"CONFIRMED":return"Confirmado";case"DELIVERED":return"Entregue";case"CANCELLED":return"Cancelado";default:return e}}function x(e){switch(e){case"CASH":return"Dinheiro";case"CREDIT_CARD":return"Cart\xe3o de Cr\xe9dito";case"DEBIT_CARD":return"Cart\xe3o de D\xe9bito";case"PIX":return"PIX";case"BANK_TRANSFER":return"Transfer\xeancia";case"CHECK":return"Cheque";default:return e}}},8256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`D:\sistema-auto-pecas\src\app\dashboard\page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var a=s(9510),r=s(5384),n=s.n(r);s(5023);let l={title:"Sistema de Auto Pe\xe7as",description:"Sistema completo para controle de auto pe\xe7as"};function i({children:e}){return a.jsx("html",{lang:"pt-BR",children:a.jsx("body",{className:n().className,children:e})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,349,581],()=>s(9059));module.exports=a})();